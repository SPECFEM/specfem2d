
# title of job, and file that contains interface data
title                           = 2D SEG Tests
interfacesfile                  = interfaces.dat

# data concerning mesh, when generated using third-party app (more info in README)
read_external_mesh              = .true.
mesh_file                       = ./DATA/XSEG_small/mesh_file   # file containing the mesh
nodes_coords_file               = ./DATA/XSEG_small/nodes_coords_file   # file containing the nodes coordinates
materials_file                  = ./DATA/XSEG_small/materials_file   # file containing the material number for each element
free_surface_file               = ./DATA/XSEG_small/free_surface_file   # file containing the free surface
absorbing_surface_file          = ./DATA/XSEG_small/absorbing_surface_file   # file containing the absorbing surface
tangential_detection_curve_file = ./DATA/courbe_eros_nodes # file containing the curve delimiting the velocity model

# parameters concerning partitioning
nproc                           = 1              # number of processes
partitioning_method             = 1              # ascending order = 1, Metis = 2, Scotch = 3
partitioning_strategy          = 01110 #b{strat=m{asc=g,low=g,rat=1.0,type=h,vert=4}} #01110          # options concerning partitioning strategy.

# geometry of the model (origin lower-left corner = 0,0) and mesh description
xmin                            = 0.d0           # abscissa of left side of the model
xmax                            = 16000.d0        # abscissa of right side of the model
nx                              = 300             # number of elements along X
ngnod                           = 4              # number of control nodes per element (4 or 9)
initialfield                    = .false.        # use a plane wave as source or not
add_Bielak_conditions           = .false.        # add Bielak conditions or not if initial plane wave
assign_external_model           = .false.        # define external earth model or not
TURN_ANISOTROPY_ON              = .false.        # turn anisotropy on or off for solid medium
TURN_ATTENUATION_ON             = .false.        # turn attenuation on or off for solid medium
TURN_VISCATTENUATION_ON         = .false.        # turn viscous attenuation on or off 
Q0                              =  1             # quality factor for viscous attenuation
freq0                           =  10            # frequency for viscous attenuation

# absorbing boundaries parameters
absorbing_conditions            = .true.   # absorbing boundary active or not
absorbbottom                    = .true.
absorbright                     = .true.
absorbtop                       = .false.
absorbleft                      = .true.

# time step parameters
nt                              = 30000           # total number of time steps
deltat                          = 4d-4          # duration of a time step
isolver                         = 1              # type of simulation 1=forward 2=adjoint + kernels

# source parameters
NSOURCE                         = 1              # number of sources [source info read in CMTSOLUTION file]
force_normal_to_surface         = .false.        # angleforce normal to surface (external mesh and curve file needed)

# constants for attenuation
N_SLS                           = 2                      # number of standard linear solids for attenuation
## DK DK Qp and Qs can now vary in each spectral element and are therefore given in the same list
## DK DK list as rho, Vp and Vs at the end of this file
#Qp_attenuation                  = 136.4376068115         # quality factor P for attenuation
#Qs_attenuation                  = 136.4376068115         # quality factor S for attenuation
f0_attenuation                  = 5.196152422706633      # (Hz) relevant only if source is a Dirac or a Heaviside, else it is f0

# receiver line parameters for seismograms
seismotype                      = 2              # record 1=displ 2=veloc 3=accel 4=pressure 5=curl 6=potential
save_forward                    = .false.        # save the last frame, needed for adjoint simulation
generate_STATIONS               = .true.         # creates a STATION file in ./DATA
nreceiverlines                  = 1              # number of receiver lines
anglerec                        = 0.d0           # angle to rotate components at receivers
rec_normal_to_surface           = .false.        # base anglerec normal to surface (external mesh and curve file needed)

# first receiver line
nrec                            = 100             # number of receivers
xdeb                            = 0.           # first receiver x in meters
zdeb                            = 0.          # first receiver z in meters
xfin                            = 15000.          # last receiver x in meters (ignored if onlyone receiver)
zfin                            = 0.          # last receiver z in meters (ignored if onlyone receiver)
enreg_surf                      = .false.         # receivers inside the medium or at the surface

# display parameters
NTSTEP_BETWEEN_OUTPUT_INFO      = 500            # display frequency in time steps
output_postscript_snapshot      = .false.         # output Postscript snapshot of the results
output_color_image              = .true.         # output color image of the results
imagetype                       = 1              # display 1=displ 2=veloc 3=accel 4=pressure
cutsnaps                        = 1.             # minimum amplitude in % for snapshots
meshvect                        = .true.         # display mesh on vector plots or not
modelvect                       = .false.        # display velocity model on vector plots
boundvect                       = .true.         # display boundary conditions on plots
interpol                        = .true.         # interpolation of the display or not
pointsdisp                      = 6              # points for interpolation of display (set to 1 for lower-left corner only)
subsamp                         = 1              # subsampling of color snapshots
sizemax_arrows                  = 1.d0           # maximum size of arrows on vector plots in cm
gnuplot                         = .false.        # generate a GNUPLOT file for the grid
outputgrid                      = .false.        # save the grid in a text file or not

# velocity and density models
nbmodels                        = 22              # nb of different models
# define models as I: (model_number,1,rho,Vp,Vs,0,0,Qp,Qs) or II: (model_number,2,rho,c11,c13,c33,c44,Qp,Qs) or III: (model_number,3,rhos,rhof,phi,c,kxx,kxz,kzz,Ks,Kf,Kfr,etaf,mufr,Qs).
# For istropic elastic/acoustic material use I and set Vs to zero to make a given model acoustic, for anisotropic elastic use II, 
# and for isotropic poroelastic material use III. The mesh can contain acoustic, elastic, & poroelastic models simultaneously
1 1 1833.5d0 1850.d0   1067.91d0 0 0 10.d0 10.d0 0 0 0 0 0 0
2 1 1925.8d0 2050.d0   1183.41d0 0 0 10.d0 10.d0 0 0 0 0 0 0
3 1 2312.d0  4500.d0   2597.58d0 0 0 10.d0 10.d0 0 0 0 0 0 0
4 1 1986.3d0 2200.d0   1270.05d0 0 0 10.d0 10.d0 0 0 0 0 0 0
5 1 1881.4d0 1950.d0   1125.67d0 0 0 10.d0 10.d0 0 0 0 0 0 0
6 1 1808.1d0 1800.d0   1039.03d0 0 0 10.d0 10.d0 0 0 0 0 0 0
7 1 1946.8d0 2100.d0   1212.27d0 0 0 10.d0 10.d0 0 0 0 0 0 0
8 1 1833.5d0 1850.d0   1067.91d0 0 0 10.d0 10.d0 0 0 0 0 0 0
9 1 1986.3d0 2200.d0   1270.06d0 0 0 10.d0 10.d0 0 0 0 0 0 0
10 1 1904.0d0 2000.d0   1154.55d0 0 0 10.d0 10.d0 0 0 0 0 0 0
11 1 1857.9d0 1900.d0   1096.80d0 0 0 10.d0 10.d0 0 0 0 0 0 0
12 1 1946.8d0 2100.d0   1212.27d0 0 0 10.d0 10.d0 0 0 0 0 0 0
13 1 1833.5d0 1850.d0   1067.91d0 0 0 10.d0 10.d0 0 0 0 0 0 0
14 1 1833.5d0 1850.d0   1067.91d0 0 0 10.d0 10.d0 0 0 0 0 0 0
15 1 1946.8d0 2100.d0   1212.27d0 0 0 10.d0 10.d0 0 0 0 0 0 0
16 1 2056.6d0 2400.d0   1385.52d0 0 0 10.d0 10.d0 0 0 0 0 0 0
17 1 2116.0d0 2600.d0   1501.10d0 0 0 10.d0 10.d0 0 0 0 0 0 0
18 1 2087.6d0 2500.d0   1443.35d0 0 0 10.d0 10.d0 0 0 0 0 0 0
19 1 1946.8d0 2100.d0   1212.27d0 0 0 10.d0 10.d0 0 0 0 0 0 0
20 1 1857.9d0 1900.d0   1096.80d0 0 0 10.d0 10.d0 0 0 0 0 0 0
21 1 2087.6d0 2500.d0   1443.35d0 0 0 10.d0 10.d0 0 0 0 0 0 0
22 3 1986.3 1040.3 0.4 2.0 1d-11 0.0 1d-11 5.341d9 5.341d8 5.341d8 0.0d-4 3.204d9 10.d0
#22 3 2200.d0 786.3d0  0.4 2.0 1d-11 0.0 1d-11 5.341d9 2d9 3d9 0.0d-4 3.204d9 10.d0
#22 1 1634.52d0 2272.89d0   1472.71d0 0 0 10.d0 10.d0 0 0 0 0 0 0
# define the different regions of the model in the (nx,nz) spectral element mesh
nbregions                       = 1              # nb of regions and model number for each
1 300 1 160 1
